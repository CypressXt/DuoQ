<script src="http://code.highcharts.com/highcharts.js"></script>
<script type="text/javascript">

var leagueAndDivision = <%=raw leagueAndDivision%>

$(function () { 
	$('#chart_container').highcharts({
		chart: {
			type: 'line', 
			backgroundColor:'transparent'
		},
		title: {
			text: "<%= summoner.name%>'s rank"
		},
		xAxis: {
			categories: [<%=raw matches_date_string%>],
			labels:{
				y: 30
			}
		},
		yAxis: {
			tickInterval: 1,
			allowDecimals: false,
			title: false,
			labels: {
				formatter: function() {
					if(this.value==-1){
						return "Unranked";
					}else{
						return leagueAndDivision[this.value];
					}
				}
			}
		},
		series: [{
			name: '<%= summoner.name%>',
			data: [<%=raw matches_rank%>],
			zones: [
			{value: -0, color: '#000'},
			{value: 5, color: '#FFAE00'},
			{value: 10, color: '#B3B3B3'},
			{value: 15, color: '#FFDD00'},
			{value: 20, color: '#00FFBF'},
			{value: 25, color: '#00B7FF'},
			{value: 26, color: '#E61E1E'},
			{value: 27, color: '#DF1EE6'}, 
			{color: '#DF1EE6'}
			]
		}],
		tooltip: {
			formatter: function() {
				if(this.y==-1){
					return "Unranked";
				}else{
					return leagueAndDivision[this.y];
				}
			}
		}
	});
});
</script>
<div id="chart_container" style="width:100%;">

</div>